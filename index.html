<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mopuri ATS Resume Builder Pro</title>
    <meta name="description" content="Free ATS-optimized resume generator with 10 formats, grammar check, keyword optimization, and job-landing tips.">
    
    <!-- Libraries -->
    <script src="https://unpkg.com/mammoth@1.6.0/mammoth.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.32/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html-docx-js/dist/html-docx.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>

    <style>
        :root {
            --bg: #0a0a0a;
            --card: #1a1a1a;
            --text: #e0e0e0;
            --accent: #00d4ff;
            --border: #333;
            --success: #00ff88;
            --warning: #ffcc00;
            --error: #ff4444;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container { max-width: 1400px; margin: 0 auto; }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
            border-radius: 16px;
            box-shadow: 0 6px 25px rgba(0,212,255,0.15);
            border: 1px solid var(--border);
        }

        h1 { 
            font-size: 2.8rem; 
            background: linear-gradient(90deg, #00d4ff, #ff00ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
            font-weight: 800;
        }

        .upload-area {
            border: 3px dashed var(--accent);
            border-radius: 16px;
            padding: 35px;
            text-align: center;
            margin: 25px 0;
            transition: all 0.3s ease;
            background: var(--card);
            cursor: pointer;
        }

        .upload-area:hover {
            border-color: var(--success);
            background: rgba(0,255,136,0.05);
            transform: translateY(-2px);
        }

        .upload-area.dragover {
            background: rgba(0,212,255,0.15);
            border-color: var(--success);
            transform: scale(1.02);
        }

        .upload-area label {
            display: block;
            padding: 18px;
            background: var(--accent);
            color: #000;
            font-weight: bold;
            border-radius: 12px;
            cursor: pointer;
            transition: 0.3s;
            font-size: 1.1rem;
        }

        .upload-area label:hover {
            background: #00ff88;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,212,255,0.5);
        }

        input[type="file"] { display: none; }

        textarea {
            width: 100%;
            height: 220px;
            background: #111;
            color: var(--text);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 18px;
            margin: 12px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
        }

        .section {
            background: var(--card);
            padding: 25px;
            margin: 25px 0;
            border-radius: 16px;
            border: 1px solid var(--border);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .section h2 {
            color: var(--accent);
            margin-bottom: 18px;
            border-bottom: 2px solid var(--border);
            padding-bottom: 10px;
            font-size: 1.5rem;
        }

        button {
            background: var(--accent);
            color: #000;
            border: none;
            padding: 14px 24px;
            margin: 8px 5px;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 15px;
            min-width: 140px;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,212,255,0.5);
            background: #00ff88;
        }

        button.secondary {
            background: #444;
            color: var(--text);
        }

        button.danger {
            background: var(--error);
            color: white;
        }

        select {
            background: #111;
            color: var(--text);
            border: 1px solid var(--border);
            padding: 12px;
            border-radius: 12px;
            margin: 8px 5px;
            min-width: 250px;
            font-size: 14px;
        }

        .format-resume {
            background: white;
            color: black;
            padding: 40px;
            margin: 25px 0;
            border-radius: 12px;
            min-height: 900px;
            box-shadow: 0 0 25px rgba(0,0,0,0.6);
            font-family: 'Times New Roman', serif;
            line-height: 1.5;
            font-size: 11pt;
        }

        .ats-score {
            font-size: 2.5rem;
            font-weight: bold;
            padding: 20px;
            border-radius: 16px;
            text-align: center;
            margin: 20px 0;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .ats-90 { background: #00ff88; color: #000; }
        .ats-70 { background: #ffcc00; color: #000; }
        .ats-50 { background: #ff8800; color: #000; }
        .ats-low { background: #ff4444; color: white; }

        .keyword-tag {
            display: inline-block;
            background: var(--accent);
            color: #000;
            padding: 8px 14px;
            margin: 5px;
            border-radius: 25px;
            font-size: 13px;
            font-weight: bold;
        }

        .missing-keyword {
            background: var(--error);
            color: white;
        }

        .tip-box {
            background: rgba(0,212,255,0.1);
            border-left: 5px solid var(--accent);
            padding: 18px;
            margin: 18px 0;
            border-radius: 0 12px 12px 0;
            font-size: 15px;
        }

        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 18px;
            margin: 25px 0;
        }

        .example-card {
            background: var(--card);
            padding: 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid var(--border);
            text-align: center;
        }

        .example-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0,212,255,0.3);
            border-color: var(--accent);
        }

        .example-card h4 {
            color: var(--accent);
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .progress-bar {
            height: 10px;
            background: #333;
            border-radius: 5px;
            overflow: hidden;
            margin: 12px 0;
        }

        .progress-fill {
            height: 100%;
            background: var(--success);
            width: 0%;
            transition: width 0.6s ease;
        }

        .hidden { display: none; }

        .flex { 
            display: flex; 
            gap: 12px; 
            flex-wrap: wrap; 
            align-items: center; 
            justify-content: center;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 24px;
            border-radius: 12px;
            color: white;
            font-weight: bold;
            z-index: 1000;
            animation: slideIn 0.4s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .flex { flex-direction: column; }
            .examples-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Mopuri ATS Resume Builder Pro</h1>
            <p>10 ATS-Friendly Formats • Auto-Optimization • Grammar & Keyword Check • Job-Ready in Minutes</p>
        </header>

        <!-- Upload Section -->
        <div class="section">
            <h2>Upload or Paste Your Resume</h2>
            <div class="upload-area" id="uploadArea">
                <label for="resumeFile">Choose File or Drag & Drop (.docx, .txt, .pdf)</label>
                <input type="file" id="resumeFile" accept=".docx,.txt,.pdf">
                <p style="margin-top:12px; color:#888; font-size:14px;">Supports: DOCX, TXT, PDF (text-based only)</p>
            </div>
            <textarea id="resumeText" placeholder="Paste your resume content here..."></textarea>
            <div class="flex">
                <button onclick="processResume()">Analyze & Optimize</button>
                <button class="secondary" onclick="clearAll()">Clear All</button>
            </div>
        </div>

        <!-- Resume Examples -->
        <div class="section">
            <h2>Professional Resume Examples (3-4 Pages Each)</h2>
            <p>Click to load a complete, ATS-optimized resume:</p>
            <div class="examples-grid">
                <!-- Senior Software Test Analyst Examples -->
                <div class="example-card" onclick="loadExample(0)">
                    <h4>Sr. Test Analyst - Automation</h4>
                    <p>Selenium • Appium • Java • CI/CD</p>
                    <div class="progress-bar"><div class="progress-fill" style="width:96%"></div></div>
                    <small>ATS Score: 96%</small>
                </div>
                <div class="example-card" onclick="loadExample(1)">
                    <h4>Sr. Test Analyst - Performance</h4>
                    <p>JMeter • LoadRunner • AWS • Monitoring</p>
                    <div class="progress-bar"><div class="progress-fill" style="width:94%"></div></div>
                    <small>ATS Score: 94%</small>
                </div>
                <div class="example-card" onclick="loadExample(2)">
                    <h4>Sr. Test Analyst - API & Security</h4>
                    <p>Postman • OWASP • REST • SOAP</p>
                    <div class="progress-bar"><div class="progress-fill" style="width:97%"></div></div>
                    <small>ATS Score: 97%</small>
                </div>
                <div class="example-card" onclick="loadExample(3)">
                    <h4>Sr. Test Analyst - Agile & DevOps</h4>
                    <p>Jira • Jenkins • Docker • Kubernetes</p>
                    <div class="progress-bar"><div class="progress-fill" style="width:93%"></div></div>
                    <small>ATS Score: 93%</small>
                </div>
                <div class="example-card" onclick="loadExample(4)">
                    <h4>Sr. Test Analyst - AI/ML Testing</h4>
                    <p>TensorFlow • Python • Data Validation</p>
                    <div class="progress-bar"><div class="progress-fill" style="width:95%"></div></div>
                    <small>ATS Score: 95%</small>
                </div>
            </div>
        </div>

        <!-- Analysis Results -->
        <div class="section" id="analysisSection" class="hidden">
            <h2>ATS & Grammar Analysis</h2>
            <div id="atsScore" class="ats-score ats-low">Analyzing...</div>
            <div id="analysisResults"></div>
        </div>

        <!-- Format Selection -->
        <div class="section">
            <h2>Select Resume Format</h2>
            <div class="flex">
                <select id="formatSelect">
                    <option value="0">1. Reverse Chronological (Most ATS-Friendly)</option>
                    <option value="1">2. Functional (Skills-Focused)</option>
                    <option value="2">3. Combination (Hybrid)</option>
                    <option value="3">4. Modern Minimalist</option>
                    <option value="4">5. Creative Visual</option>
                    <option value="5">6. Academic CV</option>
                    <option value="6">7. One-Page Executive</option>
                    <option value="7">8. Skills-Based Tech</option>
                    <option value="8">9. Infographic Style</option>
                    <option value="9">10. Federal Resume</option>
                </select>
                <button onclick="generateResume()">Generate Resume</button>
            </div>
        </div>

        <!-- Generated Resume -->
        <div class="section" id="generatedSection" class="hidden">
            <h2>Mopuri Generated Resume (ATS Optimized)</h2>
            <div id="generatedResume" class="format-resume"></div>
            <div class="flex">
                <button onclick="saveAsPdf()">Download PDF</button>
                <button onclick="saveAsWord()">Download Word (.docx)</button>
                <button class="secondary" onclick="copyToClipboard()">Copy HTML</button>
            </div>
        </div>

        <!-- Job Tips -->
        <div class="section">
            <h2>Job Landing Tips for Test Analysts</h2>
            <div class="tip-box">
                <strong>Use Metrics:</strong> "Reduced defects by 68%" > "Improved quality"
            </div>
            <div class="tip-box">
                <strong>Highlight Tools:</strong> Selenium, JIRA, Postman, JMeter, Appium, TestRail
            </div>
            <div class="tip-box">
                <strong>Agile & CI/CD:</strong> Mention daily standups, sprint testing, Jenkins pipelines
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentResume = {
            text: '',
            sections: {},
            keywords: { found: [], missing: [] },
            score: 0
        };

        // ATS Keywords for Test Analyst
        const ATS_KEYWORDS = {
            technical: ['Selenium', 'Appium', 'JMeter', 'Load
